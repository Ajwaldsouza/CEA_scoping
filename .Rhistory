panel.grid.major.x = element_line(color = "#DAE1E7", size = 0.25),
panel.grid.minor.x = element_line(color = "#DAE1E7", size = 0.1),
legend.position="none"
) +
labs(x = "", y = "Count" )
# TOPIC TRENDS
# Generating synonym/thesaurus data for keyword trend analysis
synonym <- c("lettuce; lactuca sativa; lactuca sativa l.; lactuca-sativa l.; l.",
"led; leds; light emitting-diodes; light-emitting-diodes; led light; light-emitting diodes; emitting-diodes led; light-emitting diode",
"hydroponics; hydroponic; hydro-ponic",
"artificial intelligence; ai; machine learning",
"vertical farms; vertical farming;  vertical farm; vf; vertical-farming; vetical-farms",
"cea; controlled environment agriculture (cea); controlled environment agriculture; controlled environment",
"plant factory; pfals;pfal; plant factories",
"secondary metabolites; antioxidant"
)
#Generate topic trend using author keyword (DE)
trend <- fieldByYear(data_bib, field = "DE", min.freq = 5, n.items =5, graph = F,
synonyms = synonym)
#CATEGORIES
ggsave("Plots/wos_cat.pdf", fig_wos_cat,  width=8, height=5)
librarian::shelf(
dplyr,
readr,
expss,
janitor,
tidyverse,
rstudioapi,
stringr,
reshape2,
readxl,
cowplot,
ggpubr,
Rmisc,
DescTools,
see,
hrbrthemes,
bibliometrix,
gginnards,
VennDiagram,
update_all = FALSE
)
study_focus <- read_excel("Data/study_records/data_ext.xlsx", sheet = "savedrecs")
View(study_focus)
colnames(study_focus)
dplyr::select(c(1,9,10,11))%>%
dplyr::rename(
"study_id" = "Study ID No." ,
"theme_1" = "Theme 1",
)
study_focus <- read_excel("Data/study_records/data_ext.xlsx", sheet = "savedrecs")%>%
dplyr::rename(
"study_id" = "Study ID No." ,
"theme_1" = "Theme 1",
)
View(study_focus)
study_focus <- read_excel("Data/study_records/data_ext.xlsx", sheet = "savedrecs")%>%
dplyr::rename(
"study_id" = "Study ID No." ,
"theme_1" = "Theme 1",
"theme_2" = "Theme 2",
"theme_3" = "Theme 3"
)%>%
dplyr::mutate(
study_id = as.factor(study_id),
theme_1 = as.factor(theme_1),
theme_2 = as.factor(theme_2),
theme_3 = as.factor(theme_3)
)%>%
dplyr::select(c(1,9,10,11))
View(study_focus)
librarian::shelf(
dplyr,
readr,
expss,
janitor,
tidyverse,
rstudioapi,
stringr,
reshape2,
readxl,
cowplot,
ggpubr,
Rmisc,
DescTools,
see,
hrbrthemes,
bibliometrix,
gginnards,
VennDiagram,
update_all = FALSE
)
data.frame(study_id = unlist(theme_1))
data.frame(theme = unlist(study_focus))
study_focus$merged = ifelse(study_focus$theme_1 == NA, study_focus$theme_2, study_focus$theme_3)
View(study_focus)
study_focus$merged = ifelse(study_focus$theme_3 == NA, study_focus$theme_2, study_focus$theme_1)
View(study_focus)
study_focus <- read_excel("Data/study_records/data_ext.xlsx", sheet = "savedrecs")%>%
dplyr::rename(
"study_id" = "Study ID No." ,
"theme_1" = "Theme 1",
"theme_2" = "Theme 2",
"theme_3" = "Theme 3"
)%>%
dplyr::mutate(
study_id = as.factor(study_id),
theme_1 = as.factor(theme_1),
theme_2 = as.factor(theme_2),
theme_3 = as.factor(theme_3)
)%>%
dplyr::select(c(1,9,10,11))
colnames(study_focus)
study_focus$new <- study_focus%>%str_c(theme_1, "," , theme_2, ",", theme_3)
study_focus$new <- str_c(study_focus$theme_1, "," , study_focus$theme_2, ",", study_focus$theme_3)
View(study_focus)
study_focus <- read_excel("Data/study_records/data_ext.xlsx", sheet = "savedrecs")%>%
dplyr::rename(
"study_id" = "Study ID No." ,
"theme_1" = "Theme 1",
"theme_2" = "Theme 2",
"theme_3" = "Theme 3"
)%>%
dplyr::mutate(
study_id = as.factor(study_id),
theme_1 = as.factor(theme_1),
theme_2 = as.factor(theme_2),
theme_3 = as.factor(theme_3)
)%>%
dplyr::select(c(1,9,10,11))
?melt
View(study_focus)
study <-  melt(study_focus, id.vars = c(2:4))
View(study)
study <-  melt(study_focus, id.vars = c(1))
View(study)
study <-  melt(study_focus, id.vars = c(1))%>%select(c(-2))
View(study)
study <-  melt(study_focus, id.vars = c(1))%>%select(c(-2))%>%na.omit()
View(study)
View(study)
focus_tech <- study[study$value == "Technical", ] # One factor level
focus_tech
as.list(focus_tech)
focus_tech <- study[study$value == "Technical", ]%>% # One factor level
dplyr::rename(tech = study_id)%>%
select(c(1))
focus_tech
as.list(focus_tech)
x <- as.list(focus_tech)
View(x)
focus_tech <- study[study$value == "Technical", ]%>% # One factor level
dplyr::rename(tech = study_id)%>%
select(c(1))%>%
as.list()
View(study)
focus_bio <- study[study$value == "Biological", ]%>% # One factor level
dplyr::rename(bio = study_id)%>%
select(c(1))%>%
as.list()
focus_soc <- study[study$value == "Socio-economical", ]%>% # One factor level
dplyr::rename(soc = study_id)%>%
select(c(1))%>%
as.list()
focus_env <- study[study$value == "Environmental", ]%>% # One factor level
dplyr::rename(env = study_id)%>%
select(c(1))%>%
as.list()
data <- read.table("https://raw.githubusercontent.com/holtzy/data_to_viz/master/Example_dataset/14_SeveralIndepLists.csv", header=TRUE)
View(data)
View(study)
venn.diagram(
x = list(
study%>%filter(value == "Biological")%>%select(study_id)%>%unlist(),
study%>%filter(value == "Environmental")%>%select(study_id)%>%unlist(),
study%>%filter(value == "Technical")%>%select(study_id)%>%unlist(),
study%>%filter(value == "Socio-economical")%>%select(study_id)%>%unlist(),
)
)
venn.diagram(
x = list(
study%>%filter(value == "Biological")%>%select(study_id)%>%unlist(),
study%>%filter(value == "Environmental")%>%select(study_id)%>%unlist(),
study%>%filter(value == "Technical")%>%select(study_id)%>%unlist(),
study%>%filter(value == "Socio-economical")%>%select(study_id)%>%unlist(),
),
filename = 'IMG/venn.png',
)
venn.diagram(
x = list(
study%>%filter(value == "Biological")%>%select(study_id)%>%unlist(),
study%>%filter(value == "Environmental")%>%select(study_id)%>%unlist(),
study%>%filter(value == "Technical")%>%select(study_id)%>%unlist(),
study%>%filter(value == "Socio-economical")%>%select(study_id)%>%unlist(),
),
filename = 'IMG/venn.png',
output = T
)
venn.diagram
?venn.diagram
venn.diagram(
x = list(
study%>%filter(value == "Biological")%>%select(study_id)%>%unlist(),
study%>%filter(value == "Environmental")%>%select(study_id)%>%unlist(),
study%>%filter(value == "Technical")%>%select(study_id)%>%unlist(),
study%>%filter(value == "Socio-economical")%>%select(study_id)%>%unlist(),
),
filename = "venn.png",
output = T
)
study%>%filter(value == "Biological")%>%select(study_id)%>%unlist()
xstudy%>%filter(value == "Biological")%>%select(study_id)%>%unlist()
x <- study%>%filter(value == "Biological")%>%select(study_id)%>%unlist()
venn.diagram(
x = list(
A = study%>%filter(value == "Biological")%>%select(study_id)%>%unlist(),
B = study%>%filter(value == "Environmental")%>%select(study_id)%>%unlist(),
C = study%>%filter(value == "Technical")%>%select(study_id)%>%unlist(),
D = study%>%filter(value == "Socio-economical")%>%select(study_id)%>%unlist(),
),
filename = "venn.png",
output = T
)
venn.diagram(
list(
A = study%>%filter(value == "Biological")%>%select(study_id)%>%unlist(),
B = study%>%filter(value == "Environmental")%>%select(study_id)%>%unlist(),
C = study%>%filter(value == "Technical")%>%select(study_id)%>%unlist(),
D = study%>%filter(value == "Socio-economical")%>%select(study_id)%>%unlist(),
),
filename = "venn.png",
output = T
)
venn.diagram(
list(
A = study%>%filter(value == "Biological")%>%select(study_id)%>%na.omit%>%unlist(),
B = study%>%filter(value == "Environmental")%>%select(study_id)%>%unlist(),
C = study%>%filter(value == "Technical")%>%select(study_id)%>%unlist(),
D = study%>%filter(value == "Socio-economical")%>%select(study_id)%>%unlist(),
),
filename = "venn.png",
output = T
)
venn.diagram(
list(
A = study%>%filter(value == "Biological")%>%select(study_id)%>%missing()%>%unlist(),
B = study%>%filter(value == "Environmental")%>%select(study_id)%>%unlist(),
C = study%>%filter(value == "Technical")%>%select(study_id)%>%unlist(),
D = study%>%filter(value == "Socio-economical")%>%select(study_id)%>%unlist(),
),
filename = "venn.png",
output = T
)
View(study)
venn.diagram(
list(
A = focus_bio%>%unlist(),
B = focus_env%>%unlist(),
C = focus_tech%>%unlist(),
),
filename = "venn.png",
output = T
)
venn.diagram(
list(
A = focus_bio%>%unlist(),
C = focus_tech%>%unlist(),
),
filename = "venn.png",
output = T
)
venn.diagram(
list(
A = focus_bio%>%unlist(),
),
filename = "venn.png",
output = T
)
venn.diagram(
list(
A = focus_bio,
B = focus_env%>%unlist(),
C = focus_tech%>%unlist(),
D = study%>%filter(value == "Socio-economical")%>%select(study_id)%>%unlist(),
),
filename = "venn.png",
output = T
)
venn.diagram(
list(
A = focus_bio,
B = focus_env,
C = focus_tech,
),
filename = "venn.png",
output = T
)
?venn.diagram
focus_env <- study[study$value == "Environmental", ]%>% # One factor level
dplyr::rename(env = study_id)%>%
select(c(1))%>%
as.list()%>%
unlist()
focus_soc <- study[study$value == "Socio-economical", ]%>% # One factor level
dplyr::rename(soc = study_id)%>%
select(c(1))%>%
as.list()%>%
unlist()
focus_bio <- study[study$value == "Biological", ]%>% # One factor level
dplyr::rename(bio = study_id)%>%
select(c(1))%>%
as.list()%>%
unlist()
# Creating individual list for each focus level
focus_tech <- study[study$value == "Technical", ]%>% # One factor level
dplyr::rename(tech = study_id)%>%
select(c(1))%>%
as.list()%>%
unlist()
venn.diagram(
x=list(focus_bio, focus_env, focus_soc, focus_tech
),
filename = "venn.png",
output = T
)
venn.diagram(
x=list(focus_bio, focus_env, focus_soc
),
filename = "venn.png",
output = T
)
venn.diagram(
x=list(A = focus_bio, B = focus_env, C = focus_soc, D =focus_tech
),
filename = "venn.png",
output = T
)
venn.diagram(
x=list(A = focus_bio, B = focus_env, C = focus_soc, D =focus_tech),
category.names = c("Biological" , "Environmental" , "Socio-economical", "Technical"),
filename = "venn.png",
output = F
)
venn.diagram(
x=list(A = focus_bio, B = focus_env, C = focus_soc, D =focus_tech),
category.names = c("Biological" , "Environmental" , "Socio-economical", "Technical"),
lwd =0,
filename = "venn.png",
output = F
)
venn.diagram(
x=list(A = focus_bio, B = focus_env, C = focus_soc, D =focus_tech),
category.names = c("Biological" , "Environmental" , "Socio-economical", "Technical"),
filename = "venn.png",
output = F
)
venn.diagram(
x=list(A = focus_bio, B = focus_env, C = focus_soc, D =focus_tech),
category.names = c("Biological" , "Environmental" , "Socio-economical", "Technical"),
fontfamily = "sans",
filename = "venn.png",
output = F
)
librarian::shelf(
dplyr,
readr,
expss,
janitor,
tidyverse,
rstudioapi,
stringr,
reshape2,
readxl,
cowplot,
ggpubr,
Rmisc,
DescTools,
see,
hrbrthemes,
bibliometrix,
gginnards,
VennDiagram,
eulerr,
update_all = FALSE
)
# Input in the form of a named numeric vector
matrix <- euler(c("Biological" = 310, "Socio-economic" = 40, "Technical" = 135, "Environmental" = 26,
"Biological&Socio-economic" = 4, "Biological&Technical" = 44, "Socio-economic&Technical" = 10, "Biological&Environmental" = 7, "Socio-economic&Environmental" = 22, "Technical&Environmental" = 19,
"Biological&Socio-economic&Technical" = 1, "Socio-economic&Technical&Environmental" = 9, "Biological&Socio-economic&Environmental" = 1, "Biological&Technical&Environmental" = 0,
"Biological&Socio-economic&Technical&Environmental" = 0))
plot(matrix)
plot(matrix,
quantities = TRUE,
lty = 0
)
?euler
plot.euler(matrix,
quantities = TRUE,
lty = 0
)
plot(matrix,
quantities = TRUE,
lty = 0,
fills = list(fill = c("#7fc97f", "#beaed4", "#fdc086", "#ffff99"), alpha = 0.6)
)
plot(matrix,
quantities = TRUE,
lty = 0,
fills = list(fill = c("#7fc97f", "#beaed4", "#fdc086", "#ffff99"), alpha = 0.6),
adjust_labels = T
)
librarian::shelf(
dplyr,
readr,
expss,
janitor,
tidyverse,
rstudioapi,
stringr,
reshape2,
readxl,
cowplot,
ggpubr,
Rmisc,
DescTools,
see,
hrbrthemes,
bibliometrix,
gginnards,
VennDiagram,
eulerr,
update_all = FALSE
)
##Setup working Directory
setwd(dirname(getActiveDocumentContext()$path))
# Data loading and conversion
data_bib <- convert2df(file = "Data/study_records/full_rec_bib.txt", dbsource = "wos", format = "plaintext")
# Main bibliometric analysis
results <- biblioAnalysis(data_bib, sep = ";")
options(width=100)
bib_summary <- summary(object = results, k = 10, pause = FALSE)
threeFieldsPlot(bib_summary, fields = c("AU", "DE", "SO"), n = c(20, 20, 20))
threeFieldsPlot(results, fields = c("AU", "DE", "SO"), n = c(20, 20, 20))
threeFieldsPlot(data_bib, fields = c("AU", "DE", "SO"), n = c(20, 20, 20))
threeFieldsPlot(data_bib, fields = c("AU", "DE", "SO"), n = c(10, 10, 10))
# TOPIC TRENDS
# Generating synonym/thesaurus data for keyword trend analysis
synonym <- c("lettuce; lactuca sativa; lactuca sativa l.; lactuca-sativa l.; l.",
"led; leds; light emitting-diodes; light-emitting-diodes; led light; light-emitting diodes; emitting-diodes led; light-emitting diode",
"hydroponics; hydroponic; hydro-ponic",
"artificial intelligence; ai; machine learning",
"vertical farms; vertical farming;  vertical farm; vf; vertical-farming; vetical-farms",
"cea; controlled environment agriculture (cea); controlled environment agriculture; controlled environment",
"plant factory; pfals;pfal; plant factories",
"secondary metabolites; antioxidant"
)
thematicEvolution(data_bib, field = "ID", years = c(2010, 2015, 2020), n = 15,
synonyms = synonym)
thematicEvolution(data_bib, field = "ID",  n = 15,
synonyms = synonym)
thematicEvolution(data_bib, field = "ID", years = c(2020), n = 15,
synonyms = synonym)
theme_evo <- thematicEvolution(data_bib, field = "ID", years = c(2020), n = 15,
synonyms = synonym)
plotThematicEvolution(theme_evo$Nodes,theme_evo$Edges)
theme_evo <- thematicEvolution(data_bib, field = "ID", years = c(2015), n = 20,
synonyms = synonym)
plotThematicEvolution(theme_evo$Nodes,theme_evo$Edges)
theme_evo <- thematicEvolution(data_bib, field = "ID", years = c(2015), n = 25,
synonyms = synonym)
plotThematicEvolution(theme_evo$Nodes,theme_evo$Edges)
theme_evo <- thematicEvolution(data_bib, field = "DE", years = c(2015), n = 25,
synonyms = synonym)
plotThematicEvolution(theme_evo$Nodes,theme_evo$Edges)
theme_evo <- thematicEvolution(data_bib, field = "AB", years = c(2015), n = 25,
synonyms = synonym)
plotThematicEvolution(theme_evo$Nodes,theme_evo$Edges)
# Data loading and conversion
data_bib <- convert2df(file = "Data/study_records/full_rec_bib.txt", dbsource = "wos", format = "plaintext")
# Main bibliometric analysis
results <- biblioAnalysis(data_bib, sep = ";")
View(data_bib)
NetMatrix <- biblioNetwork(data_bib, analysis = "co-occurrences", network = "keywords", sep = ";")
net=networkPlot(NetMatrix, normalize="association", weighted=T, n = 30,
Title = "Keyword Co-occurrences", type = "fruchterman",
size=T,edgesize = 5,labelsize=0.7)
net
plot(net)
networkPlot(NetMatrix, normalize="association", weighted=T, n = 30,
Title = "Keyword Co-occurrences", type = "fruchterman",
size=T,edgesize = 5,labelsize=0.7)
NetMatrix <- biblioNetwork(data_bib, analysis = "co-occurrences", network = "keywords", sep = ";")
networkPlot(NetMatrix, normalize="association", weighted=T, n = 30,
Title = "Keyword Co-occurrences", type = "fruchterman",
size=T,edgesize = 5,labelsize=0.7)
conceptualStructure(data_bib,field="ID", method="CA", minDegree=4, clust=5,
stemming=FALSE, labelsize=10, documents=10)
cs <- conceptualStructure(data_bib,field="DE", method="CA", minDegree=4, clust=5,
stemming=FALSE, labelsize=10, documents=10, synonyms = synonym)
View(cs)
cs <- conceptualStructure(data_bib,field="DE", method="CA", minDegree=4, clust=5,
stemming=FALSE, labelsize=10, documents=2, synonyms = synonym)
plot(cs)
conceptualStructure(data_bib,field="DE", method="CA", minDegree=4, clust=5,
stemming=FALSE, labelsize=10, documents=2, synonyms = synonym)
cs$graph_terms
conceptualStructure(data_bib,field="DE", method="CA", minDegree=4, clust=5,
stemming=FALSE, labelsize=10, documents=2, synonyms = synonym,
k.max = 10)
cs$graph_terms
cs$graph_dendogram
cs$graph_dendogram
